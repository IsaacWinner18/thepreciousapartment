(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5801],{977:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-up",function(){return a(6054)}])},6822:function(e,t){"use strict";t.Z={src:"/_next/static/media/Frame.864ab5af.png",height:1024,width:710,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAaVBMVEXJzsy6l2LcrWdiPhPS3uDCpIJgTC15eXfY0sWznHwjFAjYxrSafkjfz612XjfVvKSVq7JKJhB2io9wgYOHcVWst72gjWplaWLBysLLrYi5savAuKWEpbE3MyiImp+ecUO1s6W0ztuIenCGah/pAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAO0lEQVR4nAXBhQHAIBAAsUMfqFB333/IJkAocsTaUEVPcyxa1XQ9qyu55Nm94Z3VdCbGzek7IfINpv0BPx0CkmwiAdIAAAAASUVORK5CYII=",blurWidth:6,blurHeight:8}},7304:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo-99Apartments-blue--wide 1.2d636873.png",height:138,width:293,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAD1BMVEUnQpknRJYrQZdMaXEkQp0qGm7rAAAABXRSTlMsPh8AFawJS4AAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAeSURBVHicY2CGAgYmRkYGBgYGFgYmRiYQi4UBJgUABLsAQ9mXk0EAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4}},4683:function(e,t,a){"use strict";var s=a(5893),r=a(7294),i=a(3750);let n=e=>{let{type:t="text",placeholder:a="",register:n,label:l,error:o,required:c,rightElement:d,leftElement:m,className:u,asterisk:p=!1,inputClassName:h,...x}=e,[g,f]=(0,r.useState)(!1),y=(0,r.useId)(),v=()=>f(e=>!e);return(0,s.jsxs)("div",{className:"mb-4 ".concat(u),children:[(0,s.jsxs)("div",{children:[l&&(0,s.jsx)("label",{"aria-invalid":o,"aria-required":c&&p,htmlFor:y,className:'text-sm text-black       backdrop-opacity-60      aria-[required="true"]:after:content-["*"]      aria-[required="true"]:after:text-red-600      aria-[required="true"]:after:m-1      ',children:l}),(0,s.jsxs)("div",{className:"flex relative mt-3",children:[(0,s.jsx)("input",{...x,autoComplete:"none",...n,type:g?"text":t,placeholder:a,id:y,"data-invalid":!!o,className:"block px-3 py-4 w-full text-sm text-black \n					 rounded-[3px] border border-gray-300\n					 appearance-none bg-[#D9D9D929] opacity-[0.6] data-[invalid='true']:border-red-500\n					 focus:outline-none autofill:bg-gray-200\n					 focus:ring-0 focus:border-primary-600 peer ".concat(h)}),(0,s.jsxs)("span",{className:"absolute top-5 right-4 text-gray-400",children:[d&&"password"!==t&&d,"password"===t&&(0,s.jsx)(s.Fragment,{children:g?(0,s.jsx)(i.I$m,{onClick:v}):(0,s.jsx)(i.rCC,{onClick:v})})]})]})]}),o&&(0,s.jsx)("p",{id:"".concat(y,"_help"),className:"mt-1 mb-2 text-xs text-red-600",children:o})]})};t.Z=n},6054:function(e,t,a){"use strict";a.r(t);var s=a(5893),r=a(4785),i=a(7536),n=a(6310),l=a(7533),o=a(8228),c=a(5097),d=a(5678),m=a(6822),u=a(5675),p=a.n(u),h=a(7304),x=a(1163),g=a(1664),f=a.n(g),y=a(7294),v=a(9142),A=a(4683);let w=n.Ry().shape({firstName:n.Z_().required("First name is required"),lastName:n.Z_().required("Last name is required"),profileType:n.Z_().default("Guest"),businessName:n.Z_().when("profileType",(e,t)=>"Host"===e?t.required("Business name is required"):t),phoneNumber:n.Z_().required("Phone number is required"),email:n.Z_().email("Invalid email format").required("Email is required"),password:n.Z_().required("Password is required"),confirm_password:n.Z_().test("passwords-match","Passwords must match",function(e){let{password:t}=this.parent;return t===e||null===e}).required("Confirm your password")});t.default=function(){let{handleSubmit:e,register:t,setValue:a,reset:n,getValues:u,formState:{errors:g}}=(0,i.cI)({resolver:(0,l.X)(w)}),[b,j]=(0,y.useState)(!1),[N,_]=(0,y.useState)(""),[k,C]=(0,y.useState)(!1),[q,P]=(0,y.useState)(""),[E,S]=(0,y.useState)(null),B=(0,x.useRouter)();(0,v.q)();let Z="true"===B.query.host,{mutate:R,isLoading:I}=(0,o.D)({mutationFn:c.e8.signUp,onSuccess(e){if(!(null==e?void 0:e.data.status)){var t;d.Am.error(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message);return}j(!0),n()},onError(e){var t,a;d.Am.error(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message);let s=null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data;if(s){let e=[],t=Object.keys(s);t.forEach((t,a)=>{if(Array.isArray(s[t])){let a=s[t];e.push({errorMessage:a[0]})}}),S(e)}}}),U=e=>{var t;P(null==e?void 0:e.email);let a={first_name:null==e?void 0:e.firstName,last_name:null==e?void 0:e.lastName,phone_number:null==e?void 0:e.phoneNumber,email:null==e?void 0:null===(t=e.email)||void 0===t?void 0:t.toLowerCase(),password:null==e?void 0:e.password,profile_type:null==e?void 0:e.profileType,business_name:Z?null==e?void 0:e.businessName:void 0};R(a)};(0,y.useEffect)(()=>{Z&&a("profileType","Host")},[Z]);let{mutate:H,isLoading:T}=(0,o.D)({mutationFn:c.e8.sendOTP,onSuccess(e){if(!(null==e?void 0:e.data.status)){var t;d.Am.error(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message);return}d.Am.success("Email verification code has been sent to your email")},onError(e){var t,a;d.Am.error((null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)?null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message:"request failed, please try again later")}}),D=(0,o.D)({mutationFn:c.e8.verifyOTP,onSuccess(e){if(!(null==e?void 0:e.data.status)){var t;d.Am.error(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message);return}C(!0),d.Am.success("Email verification was successful")},onError(e){var t,a;d.Am.error((null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)?null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message:"email verification failed, please try again later")}}),F=()=>{H({email:q})},L=()=>{D.mutate({email:q,code:N})};return(0,s.jsxs)("div",{className:"flex flex-row w-full  justify-center",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,s.jsx)("div",{className:"xl:px-14",children:(0,s.jsx)(f(),{href:"/",children:(0,s.jsx)(p(),{src:h.Z,alt:"logo"})})}),(0,s.jsxs)("div",{className:"px-5 lg:pr-16 lg:pl-10 xl:pl-20 xl:pr-28 pb-5 mb-5",children:[Z?(0,s.jsx)("h3",{className:" text-3xl font-semibold font-serif text-[#252525] pb-6",children:"Become a Host"}):(0,s.jsx)("h3",{className:" text-3xl font-semibold font-serif text-[#252525] pb-6",children:"Create an Account"}),Z?(0,s.jsx)("p",{className:" text-base font-normal font-serif text-[#6D6D6D] pb-5",children:"Welcome paying guests to your space, unlock your asset."}):"",(0,s.jsxs)("form",{className:"flex flex-col justify-between gap-5",onSubmit:e(U),children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-5",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"mb-2 block text-base text-[#252525]",children:(0,s.jsx)(r.__,{htmlFor:"first-name",value:"First Name"})}),(0,s.jsx)(A.Z,{id:"first-name",type:"text",className:"",register:t("firstName"),color:g.firstName?"failure":"",error:null==g?void 0:g.firstName})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"mb-2 block text-base text-[#252525]",children:(0,s.jsx)(r.__,{htmlFor:"last-name",value:"Last Name"})}),(0,s.jsx)(A.Z,{id:"last-name",type:"text",register:t("lastName"),color:g.lastName?"failure":"",error:g.lastName})]})]}),Z&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-2 block text-base text-[#252525]",children:(0,s.jsx)(r.__,{htmlFor:"business-name",value:"Business Name"})}),(0,s.jsx)(A.Z,{id:"business-name",placeholder:"",register:t("businessName"),color:g.businessName?"failure":"",error:g.businessName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-2 block text-base text-[#252525]",children:(0,s.jsx)(r.__,{htmlFor:"phone-number",value:"Phone Number"})}),(0,s.jsx)(A.Z,{id:"phone-number",type:"tel",register:t("phoneNumber"),placeholder:"(+234)",maxLength:11,color:g.phoneNumber?"failure":"",error:g.phoneNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-2 block text-base text-[#252525]",children:(0,s.jsx)(r.__,{htmlFor:"email",value:"Email Address"})}),(0,s.jsx)(A.Z,{id:"email",type:"email",placeholder:"abcdef@gmail.com",register:t("email"),color:g.email?"failure":"",error:g.email})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"mb-2 block text-base text-[#252525]",children:(0,s.jsx)(r.__,{htmlFor:"password",value:"Password"})}),(0,s.jsx)(A.Z,{id:"password",type:"password",placeholder:"Enter your Password",color:g.password?"failure":"",register:t("password"),error:g.password})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-2 block text-base text-[#252525]",children:(0,s.jsx)(r.__,{htmlFor:"confirm-password",value:"Confirm Password"})}),(0,s.jsx)(A.Z,{id:"confirm-password",type:"password",placeholder:"Confirm your Password",color:g.confirm_password?"failure":"",register:t("confirm_password"),error:g.confirm_password})]}),(0,s.jsxs)("div",{className:"flex items-start gap-4 my-2",children:[(0,s.jsx)(r.XZ,{id:"agree",required:!0,className:"checked:bg-black",color:g.newsletters?"failure":"",...t("newsletters")}),(0,s.jsxs)("label",{className:"text-xs text-[#252525]",children:["I have read the ",(0,s.jsx)("span",{}),(0,s.jsx)("span",{className:" underline",children:"Terms and Privacy Policy"})]})]}),(0,s.jsx)(r.zx,{isProcessing:I,disabled:I,type:"submit",className:"text-white bg-[#BBB] hover:!bg-[#284499] rounded-sm",children:"Sign Up"}),(null==E?void 0:E.length)>0&&(0,s.jsx)("div",{className:"flex items-center flex-col justify-center text-red-500",children:E.map((e,t)=>(0,s.jsx)("p",{children:null==e?void 0:e.errorMessage},t))}),(0,s.jsx)("div",{className:"text-center text-[#252525] text-sm",children:(0,s.jsxs)("span",{children:["Already have an account?"," ",(0,s.jsx)(f(),{href:"/login",className:" underline text-primary-600",children:"Sign in"})]})})]})]})]}),(0,s.jsx)("div",{className:"hidden md:block md:w-1/2 h-fit",children:(0,s.jsx)(p(),{src:m.Z,alt:"image"})}),(0,s.jsxs)(r.u_,{position:"center",size:"md",show:b,onClose:()=>{var e,t;return B.push((null==B?void 0:null===(e=B.query)||void 0===e?void 0:e.redirect)?"/login?redirect="+(null==B?void 0:null===(t=B.query)||void 0===t?void 0:t.redirect):"/login")},children:[(0,s.jsx)(r.u_.Header,{children:(0,s.jsx)("p",{className:" text-3xl font-medium text-center",children:"Successful Registration"})}),(0,s.jsx)(r.u_.Body,{children:k?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-md mb-5 font-bold text-center",children:"Email successfully verified"}),(0,s.jsx)(r.zx,{className:"mt-4 bg-[#284499] w-full",onClick:()=>{var e,t;j(!1),B.push((null==B?void 0:null===(e=B.query)||void 0===e?void 0:e.redirect)?"/login?redirect="+(null==B?void 0:null===(t=B.query)||void 0===t?void 0:t.redirect):"/login")},children:"Continue"})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-md mb-5 font-bold text-center",children:["Kindly input the verification code sent to"," ",q]}),(0,s.jsxs)("div",{className:"px-5",children:[(0,s.jsx)("label",{htmlFor:"confirm-otp",children:"Enter verification code"}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"flex items-center mt-3 border-2 p-3 border-black",children:(0,s.jsx)("input",{id:"confirm-otp",placeholder:"*****",required:!0,maxLength:6,value:N,onChange:e=>_(e.target.value),className:"focus:ring-0 focus:outline-none focus:border-none w-full md:max-w-xs"})})]}),(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(r.zx,{isProcessing:T,className:"mt-4 bg-[#284499] w-full",type:"button",onClick:()=>F(),children:"Resend Code"}),(0,s.jsx)(r.zx,{isProcessing:D.isLoading,className:"mt-4 bg-[#284499] w-full",type:"button",onClick:()=>L(),children:"Verify Code"})]})]})})]})]})}},5097:function(e,t,a){"use strict";a.d(t,{Z8:function(){return o},e8:function(){return l}});var s=a(6635),r=a(6154);let i=r.Z.create({baseURL:"https://api.the99apartments.com"});i.interceptors.request.use(function(e){let t=s.w.getState().token;return e.headers.Authorization="Bearer ".concat(t),e}),i.interceptors.response.use(function(e){return e},function(e){return console.debug(e),Promise.reject(e)});let n=r.Z.create({baseURL:"https://user-api.the99apartments.com"});n.interceptors.request.use(function(e){let t=s.w.getState().token;return!["/user/signup/","/user/login/"].includes(null==e?void 0:e.url)&&t&&(e.headers.Authorization="Bearer ".concat(t)),e});let l={login:async e=>await n.post("/user/login/",e),getUser:async()=>await n.get("/user/get-user/"),signUp:async e=>await n.post("/user/signup/",e),upgradeToHost:async e=>await n.post("/user/become-a-host/",e),hostSignUp:async e=>await n.post("/user/host/signup/",e),requestPasswordReset:async e=>await n.post("/user/forgot-password/",e),changePassword:async e=>await n.post("/user/change-password/",e),editProfile:async e=>await n.patch("/user/update-user/",e),resetPassword:async e=>await n.post("/user/reset-password/",e),sendOTP:async e=>await n.post("/user/send-email-verification-code/",e),verifyOTP:async e=>await n.post("/user/verify-email/",e),refreshToken:async e=>await n.post("/user/refresh-token/",{refresh:e}),deactivateAccount:async e=>await n.post("/user/deactivate-account/",e),getCreditCheckStatus:async()=>await n.get("/user/credit-check-status/")},o={async getAllApartments(e){let t=new URLSearchParams(e.query);return await i.get("/apartments/?offset=".concat(e.offset,"&limit=").concat(e.limit,"&").concat(t.toString()))},getApartmentById:async e=>await i.get("/apartments/".concat(e)),bookInspection:async e=>await i.post("/apartments/book-apartment-inpection/",e),bookApartment:async e=>await i.post("/apartments/book/",e),maintenanceRequest:async e=>await i.post("/apartments/maintenance-request/",e),getCheckoutData:async e=>await i.get("/apartments/checkout/".concat(e,"/")),verifyPayment:async e=>await i.get("/apartments/verify-booking/".concat(e,"/")),getReviews:async e=>await i.get("/apartments/reviews/".concat(e,"/")),getRules:async()=>await i.get("/apartments/rules/"),getAmenities:async()=>await i.get("/apartments/amenities/"),getAdditionalCharges:async()=>await i.get("/apartments/additional-charges/"),getSecurityAndSafety:async()=>await i.get("/apartments/safety-and-security/"),getCancellationPolicy:async()=>await i.get("/apartments/cancellation-policy/"),saveApartmentProgress:async e=>await i.post("/apartments/save-draft/",e),listApartment:async e=>await i.post("/apartments/list-apartment/",e,{headers:{"Content-Type":"multipart/form-data"}}),updateApartment:async(e,t)=>await i.patch("/apartments/edit-apartment/".concat(t,"/"),e,{headers:{"Content-Type":"multipart/form-data"}}),deleteApartment:async e=>await i.delete("/apartments/delete-apartment/".concat(e,"/")),getAllHostApartments:async e=>await i.get("/apartments/all-host-apartment/"),getTransactionHistory:async()=>await i.get("/apartments/user/transactions/"),getMaintenanceHistory:async()=>await i.get("/apartments/user/maintenance-history/"),getPendingMaintenanceHistory:async()=>await i.get("/apartments/user/maintenance-history?pending_requests=pending_requests"),getCompletedMaintenanceHistory:async()=>await i.get("/apartments/user/maintenance-history?completed_requests=completed_requests"),getEmergencyMaintenanceHistory:async()=>await i.get("/apartments/user/maintenance-history?emergency_request=emergency_request"),getAnalytics:async()=>await i.get("/apartments/host-analytics"),getHostApartmentsById:async e=>await i.get("/apartments/host-apartment/".concat(e)),getHostMaintenanceHistory:async()=>await i.get("/apartments/all-host-apartment-maintenance/"),getDashboard:async()=>await i.get("/apartments/user/dashboard"),creditCheck:async()=>await i.post("/apartments/credit-check/"),saveCreditRentingData:async e=>await i.post("/apartments/save-credit-renting-data/",e),getNextPaymentDetails:async()=>await i.get("/apartments/next-payment-details/"),getInitialDepositStatus:async()=>await i.get("/apartments/made-initial-deposit/"),creditRentingInitialDeposit:async()=>await i.post("/apartments/credit-renting-initial-deposit/"),payNextPayment:async()=>await i.post("/apartments/pay-next-payment/"),payWholePayment:async()=>await i.post("/apartments/pay-whole-payment/")}}},function(e){e.O(0,[2013,2310,6447,385,9774,2888,179],function(){return e(e.s=977)}),_N_E=e.O()}]);